<!DOCTYPE html>
<style>
    #mainContent {
        display: grid;
        grid-gap: 1em;

        grid-template-rows: auto max-content;
        grid-template-columns: 1fr 1fr 1fr 1fr;

        grid-template-areas:
            "aidropToken  totalsDisplay criteriaManager totalscriteria"
            "filterEditor  filterEditor filterEditor filterEditor"
        ;
    }

    nav {
        border-bottom: 1px solid black;
        padding-bottom: 1em;
    }

    .mainNav {
        list-style-type: none;
        padding-left: 0;
    }

    .mainNavItem {
        display: inline-block;
        border: solid;
    }

    .mainNavItem {
        display: inline-block;
        /* content: '>'; */
        font-weight: bold;
        font-size: 1.2em;
    }


    .bold {
        font-weight: bold;
        text-align: left;
    }

    * {
        font-family: Arial;
        font-size: large;
    }

    .nftImagesFilter {
        /*darkens the image so tokenDisplay is easier to read*/
        position: absolute;
        bottom: 0px;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.1);
        z-index: 1;
    }

    .tokenDisplay {
        position: absolute;
        float: top-right;
        top: 1.5rem;
        right: 0.12rem;
        font-size: 1.7rem;
        font-weight: bold;
        -webkit-text-fill-color: #ffffff;
        -webkit-text-stroke-width: 0.1rem;
        -webkit-text-stroke-color: #000000;
        z-index: 3;

    }

    .nftdisplayInfo {
        font-size: 1.7rem;
    }


    #loading {
        font-size: 1.8rem;
        font-weight: bold;
    }

    .nftName {
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        position: relative;
        font-size: 1.2rem;
        text-align: center;
        color: #000000;
        font-weight: bold;
        background-color: #ffffff;
        width: 100%;
        z-index: 2;
    }

    .addressInput {
        width: 8em;
        text-overflow: ellipsis;
    }

    .address {
        display: inline-block;
        width: 10em;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    #aidropToken {
        grid-area: aidropToken;
        border: solid;
    }

    #criteriaManager {
        grid-area: criteriaManager;
        border: solid;
        align-items: right;
    }

    #totalsDisplay {
        text-align: right;
        grid-area: totalsDisplay;
        border: solid;
        
    }

    #filterEditor {
        grid-area: filterEditor;
        border: solid;
        display: grid;
        grid-gap: 1em;
        bottom: 1em;

        /* TODO fix this
        width: 98%; */

        grid-template-rows: auto 7em max-content;
        grid-template-columns: 14em 1fr 1fr 1fr;
        grid-template-areas:
            "filterselector filterInputs filterInputs none"
            "filterInputSelecter nftDisplay nftDisplay nftDisplay"
            "filterInputSelecter nftDisplay nftDisplay nftDisplay"
        ;


    }

    #totalscriteria {
        /* //TODO do this with a grid where there is a description, amount and ticker colum,  */
        grid-area: totalscriteria;
        border: solid;
        text-align: left;
        line-height: 1.5em;
    }

    #filterselector {
        grid-area: filterselector;
        border: solid;
    }

    #filterInputs {
        grid-area: filterInputs;

        text-align: right;

        display: grid;
        grid-gap: 1em;

        grid-template-rows: auto;
        grid-template-columns: max-content max-content auto;
        grid-template-areas:
            "filterIncludedInputs filterExcludedInputs ."
        ;


    }

    #filterIncludedInputs {
        grid-area: filterIncludedInputs;
        border: solid;
        height: 100%;
    }

    #filterExcludedInputs {
        grid-area: filterExcludedInputs;
        border: solid;
        height: 100%;
    }




    #filterInputSelecter {
        grid-area: filterInputSelecter;
        border: solid;
        display: grid;
        grid-gap: 1em;
        grid-template-rows: max-content max-content;
        grid-template-columns: auto;

    }



    #connectWallet {
        align-items: right;
        text-align: right;
        border: solid;
        position: absolute;
        top: 0;
        right: 0;
        margin: 0.2em;
    }

    #userAddress {
        display: inline-block;
        width: 8em;
        overflow: hidden;
        text-overflow: ellipsis;

    }

    .tempBox {
        border: solid;
    }

    #nftDisplay {
        grid-area: nftDisplay;
        border: solid;

        display: grid;
        grid-gap: 0.01em;
        grid-template-rows: max-content max-content 1fr;
        height: 68vh;
        width: 100%;
    }

    .nftImage {
        max-width: 100%;
    }

    .nameInput {
        width: 5em;
    }

    .amountTokenInput {
        width: 5em;
        text-overflow: ellipsis;
    }



    .inputsDropDown {
        min-width: 15em;
        position: absolute;
        float: right;
        background-color: white;
        z-index: 2;
        border-style: solid;
        width: max-content;
    }

    .inputsDropDownItemName {
        text-align: right;
        float: right;
    }

    .editInput-removeAttributeButton {
        position: relative;
        float: right;

    }

    .inputsDropDownItemWrapper {
        width: fit-content;
        text-align: right;
    }


    .removeAllInputEditor {
        float: right;

    }

    .floatRightBlock {
        float: right;
        display: block;
        position: relative;
        height: 1em;
        /* min-width: 8em; */
        width: 9em;
        /* overflow: hidden; */
        text-align: left;

    }

    .floatRight {
        float: right;
        display: block;
        position: relative;
        height: 1em;
        text-align: left;
        /* overflow: hidden; */

    }

    .alignLeft {
        text-align: left;
        align-items: left;
    }

    .alignRight {
        text-align: right;
        align-items: right;
    }
    #criteriaManager {
        line-height: 1.5em;
    }

    #criteriaManager input {
        width: -webkit-fill-available;
        text-overflow: ellipsis;
    }

    #criteriaManager select:not(#criteriaFilterSelectorInput) {
        width: -webkit-fill-available;
        text-overflow: ellipsis;
    }

    #criteriaFilterSelectorInput {
        width: 6.2em;
        text-overflow: ellipsis;
    }

    .alignTextRight {
        float: right;
        text-align: right;
        width: fit-content;

    }
    
    .idList-selector {
        width: 3em;
    }
/* 
    .floatRight input {
        height: 0.9em;
    }

    .floatRight select {
        height: 0.9em;
    }
    .floatRight button {
        height: 1em;
    } */
    .floatRightTicker {
        float: right;
        width: 4em;
    }

</style>

<body>
    <nav class="mainNav">
        <ol>
            <li class="mainNavItem"><a href="/">home</a></li>
            <li class="mainNavItem"><a href="/create">create</a></li>
            <li class="mainNavItem"><a href="/drop">drops</a></li>
        </ol>
    </nav>

    <div id="connectWallet">
        <button>connect</button>
        <div id="walletInfo">
            <span id="userAddress">0x23bc95F84BD43C1FCc2bc285fDa4Cb12f9AEE2df</span>
            <br>
            <span id="userTokens">1.000.000</span> <span id="ticker">TICKER</span>

        </div>
    </div>

    <div id="mainContent">
        <div id="aidropToken">
            <div class="bold">Set token</div>
            <label>Set airdrop token: <input class="addressInput" id="airdropTokenContractAddressInput" type="text"
                value="0x3AEC26bf9FEDba55a55e970504f439101AbD7327" placeholder="contract address"></input></label>
            <div id="airdropTokenInfo" class="airdropTokenInfo">
                TokenName: <span id="tokenName" class="airdropTokenInfo">TOKENNAME</span>
                <br>
                Ticker: <span id="ticker">TICKER</span>
                <br>
                <!-- Token contract: <a id="tokenContractHref" class="address"
                    href="https://etherscan.io/address/0x3AEC26bf9FEDba55a55e970504f439101AbD7327">0x3AEC26bf9FEDba55a55e970504f439101AbD7327</a> -->
                <br>
            </div>
           
        </div>

        <div id="totalsDisplay">
            <div class="bold">Supply</div>
            Total airdrop: <span id="totalAirdrop">100.000</span> <span id="ticker">TICKER</span>
            <br>
            Totalsupply: <span id="totalsupply">69,690,690</span> <span id="ticker">TICKER</span>

        </div>

        <div id="criteriaManager">
            <span class="bold">set criteria</span><br>
            <div class="alignTextRight">
                

                <label for="criteriaselectorInput">edit criteria:</label>
                <span class="floatRightBlock">
                    <select name="criteriaselectorInput" id="criteriaselectorInput">
                        <option value="">criteria#1</option>
                        <option value="">new</option>
                    </select>
                </span>
                <br>

                set NFT: <span class="floatRightBlock">
                    <input  id="nftContractAddressInput" type="text"
                        value="0x5af0d9827e0c53e4799bb226655a1de152a425a5" placeholder="contract address"></input>
                </span>
                <br>

                <label for="criteriaFilterSelectorInput">set filter: </label>
                <span class="floatRightBlock">
                    <select name="criteriaFilterSelectorInput" id="criteriaFilterSelectorInput">
                        <option value="">filter#1</option>
                    </select>
                    <button>edit</button>
                </span>
                <br>

                <label> <span id="ticker">TICKER</span> per item:  <span class="floatRightBlock">
                    <input id="amountPerNftInput" 
                        type="number" value="1000000"></input>
                    </span>
                </label>
            </div>
                    

        </div>

        <div id="totalscriteria">
            <div class="bold">Distubution <span id="selectedcriteriaName">criteria#1</span> </div>
            <div class="alignTextRight">
                Amount NFT: <span class="floatRightBlock">
                    <span id="amountItemsCurrentFilter"  class="alignLeft" > 100</span> <span id="nftSymbol" class="floatRightTicker" >MIL</span>
                </span>
                <br>

                Tokens per NFT:  <span class="floatRightBlock">
                    <span id="currentcriteriaAmountPerItem" class="alignLeft"  >1.000</span> <span id="ticker" class="floatRightTicker">TICKER</span>
                </span>
                <br>

                Total tokens: <span class="floatRightBlock">
                    <span id="selectedcriteriaTotal" class="alignLeft" >1.000.000 <span id="ticker" class="floatRightTicker" >TICKER</span>
                </span>
                <br>
            </div>
        </div>



        <div id="filterEditor">
            <div id="filterInputSelecter">
                <div id="inputTypeSelecter">
                    <div class="bold">Inputs</div>
                    <select name="inclusionSelectionInput" id="inclusionSelectionInput">
                        <option value="inputs">include</option>
                        <option value="NOT">exclude</option>
                    </select>

                    <select name="inputTypeSelecterInput" id="inputTypeSelecterInput">

                        <option value="attributes">attribute</option>
                        <option value="conditions">filter</option>
                        <option value="idList">id</option>



                    </select>

                </div>
                <div id="inputSelecter">
                </div>
            </div>

            <div id="filterselector">
                <span class="bold">Filter</span><br>
                <label>filter name: <input class="nameInput" id="filterNameInput" type="text" value=""
                        placeholder="set filter name"></input></label>
                <br>

                <label for="filterSelectorInput">select filter:</label>
                <select name="filterSelectorInput" id="filterSelectorInput">
                    <option value="-1">add new</option>
                </select>
                <br>

                <label for="filterTypeSelectorInput">set type:</label>
                <select name="filterTypeSelectorInput" id="filterTypeSelectorInput">
                    <option value="AND">AND</option>
                    <option value="OR">OR</option>
                    <option value="RANGE">RANGE</option>
                </select>
                <br>
            </div>

            <div id="filterInputs">
                <div id="filterIncludedInputs">
                    <div class="bold">Included</div>
                    <div id="includedInputsEditor">
                        Attributes: <span id="filterTotalInputs-inputs-attributes">0</span> items
                        <button id="inputs-attributes-edit">edit</button>
                        <div hidden="true" id="inputs-attributes-dropDown" class="inputsDropDown">
                            <button class="removeAllInputEditor" id="inputs-attributes-removeAllButton">remove
                                all</button>
                        </div>
                        <br>

                        nft ids: <span id="filterTotalInputs-inputs-idList">0</span> items
                        <button id="inputs-idList-edit">edit</button>
                        <div hidden="true" id="inputs-idList-dropDown" class="inputsDropDown">
                            <button class="removeAllInputEditor" id="inputs-idList-removeAllButton">remove all</button>
                        </div>
                        <br>

                        Filters: <span id="filterTotalInputs-inputs-conditions">0</span> items
                        <button id="inputs-conditions-edit">edit</button>
                        <div hidden="true" id="inputs-conditions-dropDown" class="inputsDropDown">
                            <button class="removeAllInputEditor" id="inputs-conditions-removeAllButton">remove
                                all</button>
                        </div>

                    </div>
                </div>


                <div id="filterExcludedInputs">
                    <div class="bold">Excluded</div>
                    <div id="ExcludedInputsEditor">
                        Attributes: <span id="filterTotalInputs-NOT-attributes">0</span> items
                        <button id="NOT-attributes-edit">edit</button>
                        <div hidden="true" id="NOT-attributes-dropDown" class="inputsDropDown">
                            <button class="removeAllInputEditor" id="NOT-attributes-removeAllButton">remove all</button>
                        </div>
                        <br>

                        nft ids: <span id="filterTotalInputs-NOT-idList">0</span> items
                        <button id="NOT-idList-edit">edit</button>
                        <div hidden="true" id="NOT-idList-dropDown" class="inputsDropDown">
                            <button class="removeAllInputEditor" id="NOT-idList-removeAllButton">remove all</button>
                        </div>
                        <br>

                        Filters: <span id="filterTotalInputs-NOT-conditions">0</span> items
                        <button id="NOT-conditions-edit">edit</button>
                        <div hidden="true" id="NOT-conditions-dropDown" class="inputsDropDown">
                            <button class="removeAllInputEditor" id="NOT-conditions-removeAllButton">remove all</button>
                        </div>

                    </div>
                </div>
            </div>


            <div id="nftDisplay">
                <!-- <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div>
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div>
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div>
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
            <div class="tempBox"><img class="nftImage" src="http://127.0.0.1:48084/ipfs/bafybeidku5upsi2oooyummqkgacv43ab6dqcnkji7pfq73oqx4l6zl362a/0.jpg"></div> 
                -->

            </div>

        </div>



</body>
<script src="../scripts/cbor.js" type="text/javascript"></script>
<script type="module" src="./scripts/app.js" type="application/javascript"></script>